<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>TriKanKai Free Search</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: #0f172a;
  color: white;
  text-align: center;
}
input {
  width: 60%;
  padding: 12px;
  border-radius: 25px;
  border: none;
  outline: none;
}
button {
  padding: 12px 20px;
  border-radius: 25px;
  border: none;
  background: #00ff95;
  cursor: pointer;
}
#results {
  margin-top: 30px;
  width: 70%;
  margin: auto;
  text-align: left;
}
.result {
  background: #1e293b;
  padding: 15px;
  border-radius: 10px;
  margin-bottom: 15px;
}
.result a {
  color: #00ff95;
  font-size: 18px;
  text-decoration: none;
}
</style>
</head>
<body>

<h1>TriKanKai Free Search</h1>
<input id="searchInput" placeholder="Search..." />
<button onclick="runSearch()">Search</button>

<div id="results"></div>

<script>
async function runSearch() {
  const q = document.getElementById("searchInput").value;
  if (!q) return;

  document.getElementById("results").innerHTML = "Searching...";

  const res = await fetch(`/api/search?q=${encodeURIComponent(q)}`);
  const data = await res.json();

  const resultsDiv = document.getElementById("results");
  resultsDiv.innerHTML = "";

  if (!data.value || data.value.length === 0) {
    resultsDiv.innerHTML = "No results found.";
    return;
  }

  data.value.forEach(item => {
    const div = document.createElement("div");
    div.className = "result";
    div.innerHTML = `
      <a href="${item.url}" target="_blank">${item.title}</a>
      <p>${item.description}</p>
    `;
    resultsDiv.appendChild(div);
  });
}
</script>

</body>
</html>
